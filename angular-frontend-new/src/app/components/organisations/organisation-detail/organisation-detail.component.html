<div *ngIf="detailedOrganisation" class="organisation-container">
  <mat-card class="header-card">
    <mat-card-header>
      <div mat-card-avatar class="avatar">
        <img [src]="detailedOrganisation.profilePicture" [alt]="detailedOrganisation.orgName + ' profile'">
      </div>
      <mat-card-title>{{ detailedOrganisation.orgName }}</mat-card-title>
      <mat-card-subtitle>{{ detailedOrganisation.body }}</mat-card-subtitle>
      <mat-card-subtitle class="additional-info">
        <mat-icon>location_on</mat-icon> Location: {{ detailedOrganisation.location.lat.toFixed(4) }}, {{ detailedOrganisation.location.lon.toFixed(4) }}
      </mat-card-subtitle>
      <mat-card-subtitle class="additional-info">
        <mat-icon>calendar_today</mat-icon> Created: {{ detailedOrganisation.createdAt | date:'mediumDate' }}
      </mat-card-subtitle>
    </mat-card-header>
  </mat-card>

  <mat-card class="goals-card">
    <mat-card-header>
      <mat-card-title>Goals</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>New Monthly Users</p>
      <mat-progress-bar mode="determinate" value="70" class="progress-bar"></mat-progress-bar>
      <p>New Project Budget</p>
      <mat-progress-bar mode="determinate" value="50" class="progress-bar"></mat-progress-bar>
    </mat-card-content>
  </mat-card>

  <div class="middle-row">
    <mat-card class="list-card">
      <mat-card-header>
        <mat-card-title>Projects</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-nav-list role="list">
          <a mat-list-item routerLink="../../projects/0" routerLinkActive="active" ariaCurrentWhenActive="page">
            Project 1
          </a>
          <a mat-list-item routerLink="../../projects/1" routerLinkActive="active" ariaCurrentWhenActive="page">
            Project 2
          </a>
          <a mat-list-item routerLink="../../projects/2" routerLinkActive="active" ariaCurrentWhenActive="page">
            Project 3
          </a>
        </mat-nav-list>
      </mat-card-content>
    </mat-card>

    <mat-card class="list-card">
      <mat-card-header>
        <mat-card-title>Activities</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-list role="list">
          <mat-list-item>Activity 1</mat-list-item>
          <mat-list-item>Activity 2</mat-list-item>
          <mat-list-item>Activity 3</mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>

  <mat-card class="friends-card">
    <mat-card-header>
      <mat-card-title>Friends</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-list role="list">
        <mat-list-item lines="10" *ngFor="let contact of detailedOrganisation.orgContacts">
          <span matListItemTitle>{{ contact.name || 'Unknown User' }}</span>
          <span matListItemLine *ngIf="contact.email">{{ contact.email }}</span>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
