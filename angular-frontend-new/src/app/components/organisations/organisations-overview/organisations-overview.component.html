<div class="search-container">

  <mat-form-field appearance="outline" class="search-bar">
    <mat-label>Search</mat-label>
    <input
      matInput
      type="text"
      (input)="searchTerm = $any($event.target).value; applyFilters()">

    <button mat-icon-button matSuffix>
      <mat-icon>search</mat-icon>
    </button>
  </mat-form-field>

  <button
    mat-mini-fab
    color="primary"
    (click)="showFilters = !showFilters">
    <mat-icon>filter_alt</mat-icon>
  </button>

</div>

<!-- FILTER PANEL -->
<div *ngIf="showFilters" class="filter-panel">

  <h4>Categories</h4>
  <mat-chip-listbox>
    <mat-chip-option
      *ngFor="let cat of categories"
      [selected]="selectedCategory === cat"
      (selectionChange)="toggleCategory(cat)">
      {{ cat }}
    </mat-chip-option>
  </mat-chip-listbox>

  <h4>Tags</h4>
  <mat-chip-listbox multiple>
    <mat-chip-option
      *ngFor="let tag of tags"
      [selected]="selectedTags.includes(tag)"
      (selectionChange)="toggleTag(tag)">
      {{ tag }}
    </mat-chip-option>
  </mat-chip-listbox>

</div>

<app-organisation-list
  [organisationsList]="organisationsFiltered"
  [sectionTitle]="'All Organisations'">
</app-organisation-list>

<app-organisation-list
  [organisationsList]="joinedOrganisations"
  [sectionTitle]="'Joined'">
</app-organisation-list>

<app-organisation-list
  [organisationsList]="recommendedOrganisations"
  [sectionTitle]="'Recommended'">
</app-organisation-list>

<button
  routerLink="/createOrganisation"
  mat-fab
  class="corner-button"
  color="primary">
  <mat-icon>add</mat-icon>
</button>
