<div class="login-field">
  <h2 class="login-header">Logging in:</h2>
  <form [formGroup]="loginForm">
  <div>
    <mat-form-field appearance="outline">
      <mat-label>Username</mat-label>
      <input matInput placeholder="Username" formControlName="username">
    </mat-form-field>
  </div>
  <div>
    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <input matInput [type]="hidePw() ? 'password' : 'text'" placeholder="Password" formControlName="password">
      <button
        matIconButton
        matSuffix
        (click)="clickHidePw($event)"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hidePw()"
      >
        <mat-icon>{{hidePw() ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
    </mat-form-field>
  </div>
  </form>
  <div class="button-group">
    <button mat-button="filled" (click)="clickRegister()" >Register</button>
    <button mat-button="filled" (click)="clickLogin()">Login</button>
  </div>
  <div class="search-container">

      <mat-form-field appearance="outline" class="search-bar">
        <mat-label>Search</mat-label>
        <input
          matInput
          type="text"
          (input)="searchTerm = $any($event.target).value; applyFilters()">

        <button mat-icon-button matSuffix>
          <mat-icon>search</mat-icon>
        </button>
      </mat-form-field>

      <button
        mat-mini-fab
        color="primary"
        (click)="showFilters = !showFilters">
        <mat-icon>filter_alt</mat-icon>
      </button>

    </div>
  <div>
    <!-- FILTER PANEL -->
    <div *ngIf="showFilters" class="filter-panel">

      <h4>Categories</h4>
      <mat-chip-listbox>
        <mat-chip-option
          *ngFor="let cat of categories"
          [selected]="selectedCategory === cat"
          (selectionChange)="toggleCategory(cat)">
          {{ cat }}
        </mat-chip-option>
      </mat-chip-listbox>

      <h4>Tags</h4>
      <mat-chip-listbox multiple>
        <mat-chip-option
          *ngFor="let tag of tags"
          [selected]="selectedTags.includes(tag)"
          (selectionChange)="toggleTag(tag)">
          {{ tag }}
        </mat-chip-option>
      </mat-chip-listbox>

    </div>
  </div>
  <!--TODO: Make this 400 px Wide -->
  <div class="list">
    <app-organisation-list [organisationsList]="organisationsFiltered" [sectionTitle]="'All Organisations'"/>
  </div>
</div>
